/*! react-multiselect - v0.2.1 - 2014-10-17 */
var MultiSelectItem=React.createClass({displayName:"MultiSelectItem",getDefaultProps:function(){return{visible:!0,selected:!1,text:"",onClick:function(){}}},render:function(){return this.props.visible&&React.DOM.li({className:this.props.selected?"selected":"deselected",onClick:this.props.onClick},this.props.text)}}),MultiSelect=React.createClass({displayName:"MultiSelect",getDefaultProps:function(){return{items:[],placeholder:"Enter some filter text",onChange:function(){},onItemSelected:function(){},onItemDeselected:function(){}}},getInitialState:function(){return{selections:{},filter:""}},handleItemClick:function(a){this.setSelected(a,!this.state.selections[a.id])},handleFilterChange:function(a){this.setState({filter:a.target.value})},escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createItem:function(a){var b=new RegExp(".*"+this.escapeRegExp(this.state.filter)+".*","i"),c="text"in a?a.text:"name"in a?a.name:a.id;return MultiSelectItem({key:a.id,text:c,onClick:this.handleItemClick.bind(this,a),visible:b.test(c),selected:this.state.selections[a.id]?!0:!1})},selectAll:function(){this.setSelected(this.props.items,!0)},selectNone:function(){this.setSelected(this.props.items,!1)},setSelected:function(a,b){a instanceof Array||(a=[a]);var c=this.state.selections;for(var d in a)c[a[d].id]=b,b?this.props.onItemSelected(a[d]):this.props.onItemDeselected(a[d]);this.setState({selections:c}),this.props.onChange(c)},render:function(){return React.DOM.div({className:"multiselect"},React.DOM.input({onChange:this.handleFilterChange,value:this.state.filter,placeholder:this.props.placeholder}),React.DOM.ul(null,this.props.items.map(this.createItem)),React.DOM.button({onClick:this.selectAll},"Select all"),"Â ",React.DOM.button({onClick:this.selectNone},"Select none"))}});"undefined"==typeof module?window.MultiSelect=MultiSelect:module.exports=MultiSelect;